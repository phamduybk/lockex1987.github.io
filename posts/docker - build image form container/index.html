<!doctype html>
<html>
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="content-type"> 
  <title>Build Image từ Container</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="icon" href="../../images/favicon.png"> 
  <link rel="stylesheet" href="../../css/style.css"> 
  <meta name="description" content="Build Image từ Container">
 </head> 
 <body> 
  <article> 
   <p>Image là tập tin định nghĩa các công cụ sẽ được cài đặt sẵn khi chúng ta tạo một Container từ Image đó. Chúng ta có thể tạo mới một Image từ một Container có những thay đổi khi nó được tạo từ một Image cơ bản khác, hoặc chúng ta cũng có thể tạo mới một Image sử dụng Dockerfile. Trong bài viết này, mình sẽ hướng dẫn các bạn cách đầu tiên nhé!</p> 
   <p>Giả sử bây giờ mình có một Image của Ubuntu 16.04, mình muốn có một Image mới mà khi chạy Container từ Image mới này, Git sẽ được cài sẵn.</p> 
   <p>OK, giờ mình sẽ chạy mới một Container từ Image Ubuntu 16.04 sử dụng -i, -t options để có thể access vào Container này sau khi tạo nó.</p> 
   <pre>docker run -i -t ubuntu:16.04</pre> 
   <p><img src="https://huongdanjava.com/wp-content/uploads/2017/02/tao-moi-image-su-dung-commit-command-trong-docker-1.png"></p> 
   <p>Để cài đặt Git cho Container mới này, đầu tiên các bạn các bạn cần chạy câu lệnh sau để cập nhập các repositories của Ubuntu 16.04:</p> 
   <pre>apt-get update</pre> 
   <p>Bây giờ, mình sẽ cài đặt Git bằng cách chạy câu lệnh sau:</p> 
   <pre>apt-get install -y git</pre> 
   <p>Kết quả:</p> 
   <p><img src="https://huongdanjava.com/wp-content/uploads/2017/02/tao-moi-image-su-dung-commit-command-trong-docker-2.png"></p> 
   <p>OK, vậy là chúng ta đã cài đặt xong Git. Bây giờ, hãy thoát ra khỏi Container này bằng câu lệnh exit nhé các bạn!</p> 
   <p>Sau khi thoát ra xong, chúng ta có thể kiểm tra lại danh sách các Container mà chúng ta đã chạy bằng cách sử dụng câu lệnh</p> 
   <pre>docker ps -a</pre> 
   <p><img src="https://huongdanjava.com/wp-content/uploads/2017/02/tao-moi-image-su-dung-commit-command-trong-docker-3.png"></p> 
   <p>Như các bạn thấy, Container mà mình vừa chạy đã được tạo cách đây 15 phút có tên là laughing_thompson. Bây giờ, mình sẽ sử dụng câu lệnh commit để tạo mới một Image từ Container này.</p> 
   <p>Cấu trúc của câu lệnh commit như sau:</p> 
   <pre>docker commit container_id repository:phiên_bản</pre> 
   <p>Trong ví dụ này, mình sẽ chạy câu lệnh sau:</p> 
   <pre>docker commit 72e3fc11ea25 ubuntu:16.06_git</pre> 
   <p>Kết quả:</p> 
   <p><img src="https://huongdanjava.com/wp-content/uploads/2017/02/tao-moi-image-su-dung-commit-command-trong-docker-4.png"></p> 
   <p>Kiểm tra những Images có trong Repository của chúng ta, các bạn sẽ thấy Image mà chúng ta vừa tạo.</p> 
   <p><img src="https://huongdanjava.com/wp-content/uploads/2017/02/tao-moi-image-su-dung-commit-command-trong-docker-5.png"></p> 
   <p>Bây giờ nếu các bạn tạo mới một Container từ Image mới này, các bạn sẽ thấy công cụ Git đã được cài đặt sẵn.</p> 
   <p><img src="https://huongdanjava.com/wp-content/uploads/2017/02/tao-moi-image-su-dung-commit-command-trong-docker-6.png"></p> 
   <p></p> 
   <p><br> </p> 
   <p><br> </p> 
  </article> 
  <script src="../../js/docs.js"></script>  
 </body>
</html>