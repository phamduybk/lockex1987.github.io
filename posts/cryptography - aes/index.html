<!doctype html>
<html>
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="content-type"> 
  <title>AES</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="icon" href="../../images/favicon.png"> 
  <link rel="stylesheet" href="../../css/style.css"> 
  <meta name="description" content="AES">
 </head> 
 <body> 
  <article> 
   <h2>AES là gì?</h2> 
   <p>Advanced Encryption Standard (AES) là một thuật toán mã hóa, được dùng làm tiêu chuẩn mã hóa.</p> 
   <p>Đặc điểm:</p> 
   <ul> 
    <li>Kích thước khối dữ liệu của AES là 128 bít</li> 
    <li>Kích thước khóa có thể là 128, 192, hoặc 256 bit (là bội của 32 và lớn nhất là 256 bít)</li> 
   </ul> 
   <p>DES là loại mã hóa đối xứng, sử dụng một khóa bí mật duy nhất cho cả quá trình mã hóa và giải mã</p> 
   <p><a href="https://stackjava.com/wp-content/uploads/2018/03/Picture1.png"><img src="https://stackjava.com/wp-content/uploads/2018/03/Picture1.png"></a></p> 
   <p>Ở bài này mình tập trung vào cài đặt ví dụ mã hóa và giải mã AES, còn chi tiết về AES thì nó khá dài, mình sẽ viết riêng một bài khác, hoặc các bạn có thể tham khảo chi tiết tại:</p> 
   <p><a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard" target="_blank">https://en.wikipedia.org/wiki/Advanced_Encryption_Standard</a></p> 
   <p><a href="http://tryingshare123.blogspot.com/2014/09/java-security-phan-2-secret-key.html" target="_blank">http://tryingshare123.blogspot.com/2014/09/java-security-phan-2-secret-key.html</a></p> 
   <h3>Ví dụ mã hóa, giải mã với AES</h3> 
   <p>1. Tạo key (tạo khóa mã hóa/giải mã)</p> 
   <pre>String SECRET_KEY = "stackjava.com.if";
SecretKeySpec skeySpec = new SecretKeySpec(SECRET_KEY.getBytes(), "AES");</pre> 
   <p>2. Cipher Info</p> 
   <p>Tạo một đối tượng Cipher (đối tượng này dùng để mã hóa, giải mã) và chỉ rõ các thông tin:</p> 
   <ul> 
    <li>Tên thuật toán</li> 
    <li><a href="https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation">Mode</a> (tùy chọn)</li> 
    <li>Padding scheme (tùy chọn)</li> 
   </ul> 
   <pre>Cipher cipher = Cipher.getInstance("AES/ECB/PKCS5PADDING");</pre> 
   <p>Note:</p> 
   <ul> 
    <li>AES = Advanced Encryption Standard.</li> 
    <li>ECB = Electronic Codebook mode.</li> 
    <li>PKCS5Padding = PKCS #5-style padding.</li> 
   </ul> 
   <p> 3. Mã hóa</p> 
   <pre>String original = "stackjava.com";
Cipher cipher = Cipher.getInstance("AES/ECB/PKCS5PADDING");
cipher.init(Cipher.ENCRYPT_MODE, skeySpec);
byte[] byteEncrypted = cipher.doFinal(original.getBytes());
String encrypted = Base64.getEncoder().encodeToString(byteEncrypted);</pre> 
   <p>Khi thực hiện mã hóa hay giải mã nó sẽ thực hiện trên <code>byte[]</code>.</p> 
   <p>Ở đây mình ví dụ mã hóa text nên chuyển text sang byte, các bạn có thể mã hóa tương tự với file.</p> 
   <p>Ở đây mình chuyển byte sang dạng base64 để hiển thị.</p> 
   <p>4. Giải mã</p> 
   <ul> 
    <li>cipher.init(Cipher.DECRYPT_MODE, skeySpec);</li> 
    <li>byte[] byteDecrypted = cipher.doFinal(byteEncrypted);</li> 
    <li>String decrypted = new String(byteDecrypted);</li> 
   </ul> 
   <p>5. Demo</p> 
   <p>Lưu ý, AES chỉ chấp nhận các key có độ dài là 128, 192, hoặc 256 bits.</p> 
   <p>Ví dụ mình dùng key là “<code>stackjava.com.ifdf</code>” có độ dài là 18bytes, nó sẽ báo lỗi:</p> 
   <p><a href="https://stackjava.com/wp-content/uploads/2018/03/aes-invalid-key.png"><img src="https://stackjava.com/wp-content/uploads/2018/03/aes-invalid-key.png"></a></p> 
   <p></p> 
   <p></p> 
   <p></p> 
   <p>Tham khảo</p> 
   <p>https://stackjava.com/demo/code-java-vi-du-ma-hoa-giai-ma-voi-aes.html</p> 
   <p></p> 
  </article> 
  <script src="../../js/docs.js"></script>  
 </body>
</html>