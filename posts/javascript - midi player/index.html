<!doctype html>
<html>
 <head> 
  <title>MIDIjs</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="icon" href="../../images/favicon.png"> 
  <link rel="stylesheet" href="../../css/style.css"> 
  <meta name="description" content="MIDIjs">
 </head> 
 <body> 
  <article> 
   <h3>Example</h3> 
   <div style="background-color: #bbbbff; color: black; border: 2px solid grey; padding: 15px;"> 
    <p> <a href="#example" onclick="MIDIjs.play('media/elapsing-time.mid');">Play</a> </p> 
    <p> <a href="#" onclick="MIDIjs.stop();">Stop</a> </p> 
    <div>
      MIDIjs status: 
     <span id="MIDIjs.message" style="color: green">Initializing ...</span> 
     <br> MIDIjs audio time (s): 
     <span id="MIDIjs.audio_time" style="color: green">-</span> 
    </div> 
   </div> 
   <script src="lib/midijs/js/midi.js"></script> 
   <script>
        function init() {
            var message_span = document.getElementById('MIDIjs.message');
            MIDIjs.message_callback = function(message) {
                message_span.innerHTML = message;
            };

            message_span.innerHTML = MIDIjs.get_audio_status();

            var time_span = document.getElementById('MIDIjs.audio_time');
            MIDIjs.player_callback = function(player_event) {
                time_span.innerHTML = player_event.time;
            };

            
        }

        window.addEventListener("load", function(event) {
            console.log("All resources finished loading!");
            MIDIjs.play('media/elapsing-time.mid');
        });

        init();
    </script> 
   <p>http://www.midijs.net/</p> 
  </article> 
  <script src="../../js/docs.js"></script>  
 </body>
</html>