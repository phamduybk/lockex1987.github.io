<!DOCTYPE html>
<html>
<head>
<title>15</title>
<meta charset="UTF-8"/>
<script src="angular.min.js"></script>
<style>
* {
	margin: 0;
}
body {
	padding: 20px;
}
.my-input {
	-webkit-transition: all linear 0.5s;
	        transition: all linear 0.5s;
	background: transparent;
}
.my-input.ng-invalid {
	color: white;
	background: red;
}
</style>
</head>

<body ng-app="MyForm">
<form name="calForm" ng-controller="ExampleController">
	<h2>{{message.title}}</h2>
	<h5>{{message.num1}}</h5>
	<input ng-model="so_thu_nhat" ng-required="true" ng-pattern="/^[0-9]+$/" class="my-input" ng-keyup="showResult()"/>
	<h5>{{message.num2}}</h5>
	<input ng-model="so_thu_hai"  ng-required="true" ng-pattern="/^[0-9]+$/" class="my-input" ng-keyup="showResult()"/>
	<div style="{{styleresult}}">
		{{message.phep_cong}} {{result.phep_cong}}<br />
		{{message.phep_tru}} {{result.phep_tru}}<br />
		{{message.phep_nhan}} {{result.phep_nhan}}<br />
		{{message.phep_chia}} {{result.phep_chia}}
	</div>
</form>

<script>
angular.module("MyForm", [])
	.controller("ExampleController", [
		"$scope",
		function($scope) {
			// Khởi tạo giá trị ban đầu
			$scope.message = {
				title: "Trò Chơi Tính Toán",
				num1: "Số thứ nhất",
				num2: "Số thứ hai",
				phep_cong: "Cộng hai số:",
				phep_tru: "Trừ hai số:",
				phep_nhan: "Nhân hai số:",
				phep_chia: "Chia hai số:"
			};

			// Vì ban đầu chưa nhập gì nên ẩn khung kết quả
			$scope.styleresult = "display: none";

			// Khi nhập các số vào các input thì gọi sự kiện này
			$scope.showResult = function() {
				if ($scope.calForm.$valid) {
					$scope.styleresult = "display: block";
					var n1 = parseInt($scope.so_thu_nhat);
					var n2 = parseInt($scope.so_thu_hai);
					$scope.result = {
						phep_cong: n1 + n2,
						phep_tru:  n1 - n2,
						phep_nhan: n1 * n2,
						phep_chia: n1 / n2,
					};
				} else {
					$scope.styleresult = "display: none";
				}
			};
		}
	]);
</script>
</body>
</html>
