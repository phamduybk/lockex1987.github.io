<!DOCTYPE>
<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/themes/base/jquery-ui.css">
	
	<script>
	$(function() {
		var startDate;
		var endDate;
		
		var selectCurrentWeek = function() {
			window.setTimeout(function() {
				$('.week-picker').find('.ui-datepicker-current-day a').addClass('ui-state-active')
			}, 1);
		}
		
		$('.week-picker').datepicker({
			showOtherMonths: true,
			selectOtherMonths: true,
			onSelect: function(dateText, inst) {
				// Lay ngay dang duoc chon
				var date = $(this).datepicker('getDate');
				
				// Lay ngay dau tuan va cuoi tuan
				startDate = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay());
				endDate   = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay() + 6);
				
				// Cap nhat nhan
				var dateFormat = inst.settings.dateFormat || $.datepicker._defaults.dateFormat;
				$('#startDate').text( $.datepicker.formatDate(dateFormat, startDate, inst.settings) );
				$('#endDate').text(   $.datepicker.formatDate(dateFormat,   endDate, inst.settings) );
				
				selectCurrentWeek();
			},
			// Dung ham nay trong truong hop nguoi dung qua lai giua cac thang, van phai luu lai tuan dang chon
			// Khong phai
			
			beforeShowDay: function(date) {
				var cssClass = '';
				if (date >= startDate && date <= endDate)
					cssClass = 'ui-datepicker-current-day';
				return [true, cssClass];
			},
			
			onChangeMonthYear: function(year, month, inst) {
				selectCurrentWeek();
			}
		});
		
		// Gan su kien mousemove va mouseleave de highlight dong khi hover
		$('.week-picker .ui-datepicker-calendar tr').live('mousemove',  function() { $(this).find('td a').addClass   ('ui-state-hover'); });
		$('.week-picker .ui-datepicker-calendar tr').live('mouseleave', function() { $(this).find('td a').removeClass('ui-state-hover'); });
	});
	</script>
</head>

<body>
	<div class="week-picker"></div>
	<br />
	<br />
	<label>Week :</label> <span id="startDate"></span> - <span id="endDate"></span>
	<br />
	<br />
	<a href="http://www.tikalk.com/incubator/week-picker-using-jquery-ui-datepicker/">Original link</a>
</body>
</html>
