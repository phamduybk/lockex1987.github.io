<!doctype html>
<html>
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="content-type"> 
  <title>Add Remove Nodes</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="icon" href="../../images/favicon.png"> 
  <link rel="stylesheet" href="../../css/style.css"> 
  <meta name="description" content="Add Remove Nodes">
 </head> 
 <body> 
  <article> 
   <p>Add/Remove Nodes</p> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Khi triển khai<span class="Apple-converted-space">&nbsp;</span><a href="https://itfromzero.com/database/nosql/cassandra/cassandra-la-gi.html" style="box-sizing: border-box; background-color: transparent; color: rgb(130, 36, 227); text-decoration: none; transition: all 0.3s;">hệ thống Cassandra</a>, việc thêm hay bớt nodes có thể xảy ra do nhiều nguyên nhân: cấu hình nhầm, hoặc bớt nodes để giảm tải cho cluster.<span id="more-673" style="box-sizing: border-box;"></span></p> 
   <h3 style="box-sizing: border-box; font-family: &quot;Roboto Slab&quot;, serif; font-weight: 700; line-height: 1.1; color: rgb(218, 68, 83); margin-top: 20px; margin-bottom: 10px; font-size: 20px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><span id="them_nodes_vao_cassandra_cluster" style="box-sizing: border-box;">Thêm nodes vào Cassandra Cluster</span></h3> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Muốn thêm nodes vào Cassandra Cluster, bạn phải cài đặt trên nodes mới phiên bản Cassandra giống như phiên bản đang chạy trên Cluster.<br style="box-sizing: border-box;"> <strong style="box-sizing: border-box; font-weight: 700;">Cụ thể các bước để thêm nodes vào Cassandra Cluster như sau:</strong></p> 
   <div style="box-sizing: border-box; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"> 
    <ins class="adsbygoogle" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-9369170851175955" data-ad-slot="2177392548" style="box-sizing: border-box; display: block; text-align: center;"></ins> 
   </div> 
   <h4 style="box-sizing: border-box; font-family: &quot;Roboto Slab&quot;, serif; font-weight: 700; line-height: 1.1; color: rgb(218, 68, 83); margin-top: 10px; margin-bottom: 10px; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><span id="cai_dat_cassandra_tren_nodes_moi" style="box-sizing: border-box;">Cài đặt Cassandra trên nodes mới:</span></h4> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Xem thêm:<span class="Apple-converted-space">&nbsp;</span><a href="https://itfromzero.com/database/nosql/cassandra/cai-dat-va-cau-hinh-cassandra-tren-centos.html" style="box-sizing: border-box; background-color: transparent; color: rgb(130, 36, 227); text-decoration: none; transition: all 0.3s;">Cài đặt và cấu hình Cassandra trên Centos</a></p> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Lưu ý không khởi động Cassandra sau khi cài đặt xong. Nếu lỡ khởi động bạn phải xóa sạch dữ liệu trước khi thêm vào cluster bằng lệnh:</p> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"> rm -rf /var/lib/cassandra/*</pre> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Nếu sử dụng Ubuntu, sau khi cài xong Cassandra sẽ tự khởi động nên bạn cũng phải xóa sạch dữ liệu nhé.</p> 
   <h4 style="box-sizing: border-box; font-family: &quot;Roboto Slab&quot;, serif; font-weight: 700; line-height: 1.1; color: rgb(218, 68, 83); margin-top: 10px; margin-bottom: 10px; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><span id="cau_hinh_file_cassandrayaml" style="box-sizing: border-box;">&nbsp;Cấu hình file cassandra.yaml:</span></h4> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Trước khi chỉnh sửa file cassandra.yaml, bạn nên sao lưu một bản đề phòng:</p> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"> # cp cassandra.yaml cassandra.yaml_org</pre> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Cần chú ý các mục sau trong file cassandra.yaml:</p> 
   <ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"> 
    <li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: 700;">auto_bootstrap: true –&nbsp;</strong>bootstrap là Tính năng kiểm soát khả năng tự động phân phối dữ liệu trong cluster khi một nút mới được chèn vào. Node mới tham gia cluster được xem là một nút rỗng không có dữ liệu. Mặc định trong file cassandra.yaml không có dòng này nhưng nếu có bạn phải thiết lập giá trị “true” hoặc xóa luôn dòng này</li> 
   </ul> 
   <ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"> 
    <li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: 700;">cluster_name:</strong>&nbsp;Tên cluster mà muốn thêm nodes mới vào</li> 
    <li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: 700;">Listen_interface:</strong><span class="Apple-converted-space">&nbsp;</span>địa chỉ IP của nodes mới</li> 
    <li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: 700;">listen_address/broadcast_address:</strong>&nbsp;không cấu hình</li> 
    <li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: 700;">endpoint_snitch:</strong><span class="Apple-converted-space">&nbsp;</span>endpoint_snitch: GossipingPropertyFileSnitch (Giống các nodes trong cluster)</li> 
    <li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: 700;">num_tokens :</strong><span class="Apple-converted-space">&nbsp;</span>256 (Giống các nodes trong cluster)</li> 
    <li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: 700;">seeds:</strong><span class="Apple-converted-space">&nbsp;</span>IP các seed nodes (Giống các nodes trong cluster)</li> 
   </ul> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><strong style="box-sizing: border-box; font-weight: 700;">Lưu ý</strong>: không liệt kê địa chỉ IP nodes mới vào seed nodes.<br style="box-sizing: border-box;"> Sau khi cấu hình xong file cassandra.yaml, bạn nên dùng lệnh diff để kiểm tra sự khác nhau giữa file đã sao lưu và file đã cấu hình. Kiểm tra luôn sự khác nhau giữa file của nodes mới và các nodes đang chạy.</p> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"># diff cassandra.yaml cassandra.yaml_org</pre> 
   <h4 style="box-sizing: border-box; font-family: &quot;Roboto Slab&quot;, serif; font-weight: 700; line-height: 1.1; color: rgb(218, 68, 83); margin-top: 10px; margin-bottom: 10px; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><span id="khoi_dong_cassandra_tren_nodes_moi" style="box-sizing: border-box;">&nbsp;Khởi động cassandra trên nodes mới:</span></h4> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"># &lt;Install path&gt;/bin/cassandra</pre> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Sử dụng công cụ nodetool status để kiểm tra nodes mới đã được thêm vào cluster thành công hay chưa. Nếu trạng thái UN tức là đã thêm node mới thành công.</p> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"># &lt;Install path&gt;/bin/nodetool status
<img class="alignnone size-full wp-image-678" src="https://itfromzero.com/wp-content/uploads/2017/09/cass.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; height: auto; max-width: 100%;" height="258" width="1061"></pre> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Sau khi xác nhận thêm nodes mới thành công, chạy lệnh nodetool cleanup trên mỗi nodes cũ sử dụng câu lệnh này để loại bỏ những dữ liệu không cần thiết sau khi thêm một node vào trong cluster. Cassandra không tự động loại bỏ các dữ liệu từ những node đã mất khoảng phân vùng của chúng tới một node mới. Bước này sẽ tốn kha khá thời gian của bạn đấy.</p> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"># &lt;Install path&gt;/bin/nodetool cleanup -h hostname/IP keyspace</pre> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Xem thêm:<span class="Apple-converted-space">&nbsp;</span><a href="https://itfromzero.com/database/nosql/cassandra/cassandra-yaml-va-nodetool-utility-trong-cassandra.html" style="box-sizing: border-box; background-color: transparent; color: rgb(130, 36, 227); text-decoration: none; transition: all 0.3s;">Cassandra.yaml và nodetool có những gì?</a></p> 
   <h3 style="box-sizing: border-box; font-family: &quot;Roboto Slab&quot;, serif; font-weight: 700; line-height: 1.1; color: rgb(218, 68, 83); margin-top: 20px; margin-bottom: 10px; font-size: 20px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><span id="xoa_nodes_ra_khoi_cluster" style="box-sizing: border-box;">Xóa nodes ra khỏi cluster</span></h3> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Nếu bạn muốn xóa bớt node để giảm tải cho cluster thì làm như sau:</p> 
   <h4 style="box-sizing: border-box; font-family: &quot;Roboto Slab&quot;, serif; font-weight: 700; line-height: 1.1; color: rgb(218, 68, 83); margin-top: 10px; margin-bottom: 10px; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><span id="kiem_tra_trang_thai_node" style="box-sizing: border-box;">Kiểm tra trạng thái node:</span></h4> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Sử dụng công cụ nodetool status kết quả trả về trạng thái node sẽ là UN = up, DN = down.</p> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"># &lt;Install path&gt;/bin/nodetool status</pre> 
   <h4 style="box-sizing: border-box; font-family: &quot;Roboto Slab&quot;, serif; font-weight: 700; line-height: 1.1; color: rgb(218, 68, 83); margin-top: 10px; margin-bottom: 10px; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><span id="xoa_node" style="box-sizing: border-box;">Xóa node</span></h4> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Nếu trạng thái của node là UN thực hiện lệnh:</p> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"># &lt;Install path&gt;/bin/nodetool decommission</pre> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Lệnh trên có tác dụng deactive một node bằng cách stream dữ liệu của nó tới node khác, để theo dõi quá trình trên sử dụng lệnh</p> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"># &lt;Install path&gt;/bin/nodetool netstats</pre> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Nếu trạng thái của node là DN:</p> 
   <ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"> 
    <li style="box-sizing: border-box;">Nếu sử dụng vnode(node ảo) thực hiện lệnh:</li> 
   </ul> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"> # &lt;Install path&gt;/bin/nodetool removenode</pre> 
   <ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"> 
    <li style="box-sizing: border-box;">Nếu không dùng vnode thì bạn phải điều chỉnh token đến các node còn lại trước khi sử dụng lệnh nodetool removenode</li> 
    <li style="box-sizing: border-box;">Nếu sử dụng lệnh nodetool removenode không thành công thì sử dụng lệnh nodetool assassinate để cưỡng chế xóa node khỏi cluster:</li> 
   </ul> 
   <pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; width: 648px; white-space: pre-wrap; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"># &lt;Install path&gt;/bin/nodetool -h assassinate &lt;ip_address&gt;</pre> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Xem thêm:<span class="Apple-converted-space">&nbsp;</span><a href="https://itfromzero.com/database/nosql/cassandra/kien-truc-mang-cassandra.html" style="box-sizing: border-box; background-color: transparent; color: rgb(130, 36, 227); text-decoration: none; transition: all 0.3s;">Kiến trúc mạng Cassandra</a></p> 
   <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Trên đây là những hướng dẫn cơ bản về thêm, xóa nodes khi triển khai Cassandra, tùy theo điều kiện thực tế mà cách cấu hình có thể khác nhau, chúc các bạn thành công.</p> 
   <div id="adsense" style="box-sizing: border-box; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"> 
    <center style="box-sizing: border-box;"> 
     <ins class="adsbygoogle" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-9369170851175955" data-ad-slot="2830286203" style="box-sizing: border-box; display: block; text-align: center;"></ins> 
    </center> 
   </div> 
   <br style="box-sizing: border-box; color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"> 
   <span style="color: rgb(107, 107, 107); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">Thao khảo:&nbsp;datastax.com</span> 
   <p></p> 
   <p>https://itfromzero.com/database/nosql/cassandra/add-remove-cassandra-nodes-bot-nodes-trong-cassandra.html</p> 
  </article> 
  <script src="../../js/docs.js"></script>  
 </body>
</html>