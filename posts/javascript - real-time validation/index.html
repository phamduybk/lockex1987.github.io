<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Real-time validation"/>
    <meta name="keywords" content="javascript, real-time, validation"/>
    <meta name="author" content="lockex1987"/>
    
    <title>Real-time validation</title>

    <link rel="icon" href="../../images/favicon.png"/>
    <link rel="stylesheet" href="../../css/style.css"/>
</head>
<body>
    <article>
        <h2>Real-time validation</h2>
        
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

<style>
body { background-color: #009688; }
.container { max-width: 500px; margin-top: 2em; background-color: #e0f2f1; padding: 2em; }
  </style>
<div class="container">
<form novalidate>
<div class="form-group">
<label for="username">Tên đăng nhập</label>
<input class="form-control" id="username-input" type="email"/>
</div>
<div class="form-group">
<label for="input-passord">Mật khẩu</label>
<input class="form-control" id="password-input" type="password"/>
<small class="form-text text-muted">Không được nhập dấu cách, ký tự tiếng Việt</small>
<small class="form-text text-danger" id="password-caps-warning" style="display: none">* Đang bật Caps Lock</small>
<small class="form-text text-danger" id="password-space-warning" style="display: none">* Chứa khoảng trắng</small>
<small class="form-text text-danger" id="password-vietnamese-warning" style="display: none">* Chứa tiếng Việt</small>
</div>
<button class="btn btn-primary" type="submit">Đăng nhập</button>
</form>

</div>
<script>
// Đơn giản, nhưng rất hữu ích
(function() {
  const spacePattern = /\s/g;
  const vietnamesePattern = /[àáạảãâầấậẩẫăằắặẳẵèéẹẻẽêềếệểễìíịỉĩòóọỏõôồốộổỗơờớợởỡùúụủũưừứựửữỳýỵỷỹđ]/gi;
  const passwordField = document.getElementById("password-input");
  const capsErrorField = document.getElementById("password-caps-warning");
  const spaceErrorField = document.getElementById("password-space-warning");
  const vietnameseErrorField = document.getElementById("password-vietnamese-warning");

    // Detect Caps Lock
  passwordField.addEventListener("keydown", function(e) {
    capsErrorField.style.display = e.getModifierState("CapsLock") ? 'block' : 'none';
  });

    // Detect space, Vietnamese
  passwordField.addEventListener("keyup", function(e) {
    var val = passwordField.value;
    // Dùng val.match(pattern) thì được mà pattern.test(val) thì không được (why?)
    var testSpace = val.match(spacePattern);
    var testVietnamese = val.match(vietnamesePattern);
    spaceErrorField.style.display = testSpace ? 'block' : 'none';
    vietnameseErrorField.style.display = testVietnamese ? 'block' : 'none';
    var method = (testSpace || testVietnamese) ? "add" : "remove";
    passwordField.classList[method]("is-invalid");
  });
}());
  </script>

    </article>

    <script src="../../js/docs.js"></script>
</body>
</html>
