<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="UI-Router">
    <title>Angular routing</title>
    <link rel="icon" href="../../images/favicon.png">
    <link rel="stylesheet" href="../../css/style.css">
  </head>
  <body>
    <article>
      <h2>UI-Router</h2>
      <p>Single Page Application không phải là luôn tốt. Load lại trang tốt cho
        SEO. Ngoài ra các trang độc lập với nhau, đỡ phải lo xung đột.</p>
      <p>Backend đã rất tốt rồi (Laravel), chúng ta không nên re-invent the
        wheel.</p>
      <p>UI-Router là một thư viện third-party. Nó quản lý theo state, không
        phải theo URL như ngRoute. Hiện tại (7/5/2017) vẫn đang là phiên bản
        beta. Tuy nhiên bạn vẫn có thể sử dụng (đã được dùng trong safenet.vn).</p>
      <h3>Download</h3>
      <p>Package UI-Router được phân phối bởi npm, do đó để lấy package đó chúng
        ta làm như sau:</p>
      <pre><code>npm install --save angular-ui-router</code></pre>
      <p>Ví dụ 1: Hello World</p>
      <p>Hãy build một ứng dụng đơn giản. Nó có 2 "trang" (hello và about), mỗi
        trang có URL riêng. Chúng ta có thể qua lại giữa các trang bằng cách
        nhấn vào các link. Link cho trang hiện tại sẽ được highlight.</p>
      <p>Các bước:</p>
      <ul>
        <li>Include JavaScript vào trang.</li>
        <li>Thêm module AngularJS chính có phụ thuộc vào module ui.router.</li>
        <li>Thêm ui-view.</li>
        <li>Sử dụng ui-sref. Thuộc tính href của thẻ a sẽ được tạo ra từ
          ui-sref, giá trị bên trong ui-sref sẽ là state sẽ trỏ đến trong ứng
          dụng.</li>
        <li>Sử dụng ui-sref-active.<br>
        </li>
      </ul>
      <p>Ví dụ 2: Hello Solar System</p>
      <p>Một chương trình có thể xem danh sách và xem chi tiết.</p>
      <ul>
        <li>State people hiển thị danh sách người</li>
        <li>State person hiển thị thông tin chi tiết của người</li>
      </ul>
      <p>Chương trình này giới thiệu một số khái niệm mới:</p>
      <ul>
        <li>Route to component</li>
        <li>Resolve data</li>
        <li>Tham số của state</li>
        <li>Liên kết với tham số</li>
      </ul>
      <h4>Route to component</h4>
      <p>Chúng ta có thể định nghĩa dựa vào template và controller. Tuy nhiên
        khuyên nên dựa vào component.</p>
      <p>AngularJS 1.5 giới thiệu .component(), đó là một directive đặc biệt.
        Một component sẽ bao gồm một template và một controller và cả đầu vào
        (data) cũng như đầu ra (events).<br>
      </p>
      <p>Resolve data</p>
      <p>Nếu bạn cần lấy dữ liệu trước khi active state.</p>
      <p></p>
      <p>Tham số của state</p>
      <p>Truyền tham số vào state.</p>
      <p>Liên kết với tham số</p>
      <p><br>
      </p>
      <p> </p>
      <p><br>
      </p>
      <p>Trang 404 thì sao?</p>
      <p>otherwise("404")</p>
      <p>Dùng $state.go("login") để vào trang mặc định.<br>
      </p>
      <p><br>
      </p>
      <p>Để di chuyển tới 1 state home.detail có ID ta khai báo :</p>
      <p>$state.go('home.detail',{id // ID của detail sản phẩm...</p>
      <p><br>
      </p>
      <p>Để lấy <span class="scayt-misspell-word">tham</span> số ID <span class="scayt-misspell-word">trên</span>
        url ta <span class="scayt-misspell-word">thực</span> <span class="scayt-misspell-word">hiện</span>
        <span class="scayt-misspell-word">trong</span> file js:</p>
      <p>var _id = $stateParams.id // id này là tham số được gọi tại url
        home.detail</p>
      <p><br>
      </p>
      <br>
      <p>Xây dựng multiple views :</p>
      <p><br>
      </p>
      <p>&lt;div class="row"&gt;<br>
        &nbsp;&nbsp;&nbsp; &lt;!--View thứ nhất --&gt;<br>
        &nbsp;&nbsp;&nbsp; &lt;div class="col-sm-6"&gt;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;div
        ui-view="columnOne"&gt;&lt;/div&gt;<br>
        &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br>
        &nbsp;&nbsp;&nbsp; <br>
        &nbsp;&nbsp;&nbsp; &lt;!-- View thứ hai--&gt;<br>
        &nbsp;&nbsp;&nbsp; &lt;div class="col-sm-6"&gt;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;div
        ui-view="columnTwo"&gt;&lt;/div&gt;<br>
        &nbsp;&nbsp;&nbsp; &lt;/div&gt;<br>
        &lt;/div&gt;</p>
      <p><br>
      </p>
      <p>Đỡ ng-include</p>
      <p><br>
      </p>
      <p>file js:<br>
        <br>
        ...<br>
        &nbsp;.state('about', {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; url: '/about',<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; views: {<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
        View chính của state about<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '': {
        templateUrl: 'partial-about.html' },<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
        Định nghĩa View thứ nhất sẽ được hiện thị không có controller<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        'columnOne@about': { template: 'Look I am a column!' },<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //
        Định ngĩa hiển thị view thứ 2 với 1 controller<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        'columnTwo@about': { <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        templateUrl: 'table-data.html',<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        controller: 'aboutController'<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //viewName@stateName là quy
        ước nên được sử dụng trong multiple<br>
        &nbsp;&nbsp;&nbsp; });<br>
        <br>
        ...</p>
      <p><br>
      </p>
      <p>Lazy load</p>
      <p>Sử dụng ocLazyLoad.</p>
      <p>Copy từ Visual Studio Code được nè.</p>
      <p> </p>
      <div style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Droid Sans Mono', 'Courier New', monospace, 'Droid Sans Fallback';font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span
style="color: #d4d4d4;">$stateProvider</span></div><div><span style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.state(</span><span
style="color: #ce9178;">"public"</span><span style="color: #d4d4d4;">, {</span></div><div><span
style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url: </span><span
style="color: #ce9178;">'/public'</span><span style="color: #d4d4d4;">,</span></div><div><span
style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;templateUrl: </span><span
style="color: #ce9178;">'partials/public/public.html'</span><span style="color: #d4d4d4;">,</span></div><div><span
style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controller: </span><span
style="color: #ce9178;">"PublicController"</span><span style="color: #d4d4d4;">,</span></div><div><span
style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve: {</span></div><div><span
style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazyLoadControllerJsFile: </span><span
style="color: #569cd6;">function</span><span style="color: #d4d4d4;">($ocLazyLoad) {</span></div><div><span
style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style="color: #569cd6;">return</span><span style="color: #d4d4d4;"> $ocLazyLoad.load(</span><span
style="color: #ce9178;">"controllers/public/PublicController.js"</span><span style="color: #d4d4d4;">);</span></div><div><span
style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span
style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span
style="color: #d4d4d4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</span></div></div>
      <p>Phân quyền</p>
      <p>HTML5 mode (bỏ hashtag)</p>
      <p>Add state động</p>
      <p><br>
      </p>
      <p><br>
      </p>
      <p>Reference</p>
      <p>https://scotch.io/tutorials/angular-routing-using-ui-router</p>
      <p>https://github.com/angular-ui/ui-router</p>
      <p>https://ui-router.github.io/guide/states</p>
      <p>https://ui-router.github.io/resources/sampleapp/<br>
      </p>
      <p>https://ui-router.github.io/guide/ng1/migrate-to-1_0<br>
      </p>
      <p>https://github.com/angular-ui/ui-router/wiki</p>
      <p>https://github.com/angular-ui/ui-router/wiki/Frequently-Asked-Questions</p>
      <p>https://github.com/angular-ui/ui-router/wiki#state-change-events</p>
      <p><br>
      </p>
      <p><br>
      </p>
    </article>
    <script src="../../js/docs.js"></script>
  </body>
</html>
