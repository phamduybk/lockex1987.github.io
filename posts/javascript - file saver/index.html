<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Save and Load text file by JavaScript"/>
    <meta name="keywords" content="save, load, download"/>
    <meta name="author" content="lockex1987"/>
    
    <title>Save and Load text file by JavaScript</title>

    
    <link rel="icon" href="../../images/favicon.png"/>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="../../css/style.css"/>
</head>

<body>
    <article>
        <h2>Save and Load text file by JavaScript</h2>

        <div class="container-fluid">
            <div class="form-group row">
                <div class="col-md-12">
                    <textarea id="inputTextToSave" class="form-control" placeholder="Text to save..." style="height: 200px;"></textarea>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-8">
                    <input id="inputFileNameToSaveAs" class="form-control" placeholder="Filename to save as..."/>
                </div>
                <div class="col-md-4">
                    <button onclick="testSaveTextAsFile()" class="btn btn-info">Save Text to File</button>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-8">
                    <input id="fileToLoad" type="file"/>
                </div>
                <div class="col-md-4">
                    <button onclick="testLoadFileAsText()" class="btn btn-success">Load Selected File</button>            
                </div>
            </div>
        </div>

<pre style="border: 1px solid green; border-radius: 5px;"><code id="output" style="color: rgb(248, 248, 242); background-color: rgb(43, 43, 43); display: block; padding: 5px;"><span style="color: rgb(248, 248, 242);"><span style="color: rgb(220, 198, 224);">function</span> <span style="color: rgb(0, 224, 224);">saveTextAsFile</span>(<span style="color: rgb(245, 171, 53);">textToWrite, fileNameToSaveAs</span>) </span>{
	<span style="color: rgb(220, 198, 224);">var</span> textFileAsBlob = <span style="color: rgb(220, 198, 224);">new</span> Blob([textToWrite], { <span style="color: rgb(248, 248, 242);">type</span>:<span style="color: rgb(171, 227, 56);">'text/plain'</span> });
	<span style="color: rgb(220, 198, 224);">var</span> downloadLink = <span style="color: rgb(245, 171, 53);">document</span>.createElement(<span style="color: rgb(171, 227, 56);">"a"</span>);
	downloadLink.download = fileNameToSaveAs;
	downloadLink.innerHTML = <span style="color: rgb(171, 227, 56);">"Download File"</span>;
	downloadLink.href = <span style="color: rgb(245, 171, 53);">window</span>.URL.createObjectURL(textFileAsBlob);
	downloadLink.style.display = <span style="color: rgb(171, 227, 56);">"none"</span>;
	downloadLink.onclick = <span style="color: rgb(248, 248, 242);"><span style="color: rgb(220, 198, 224);">function</span>(<span style="color: rgb(245, 171, 53);">event</span>) </span>{
		<span style="color: rgb(245, 171, 53);">document</span>.body.removeChild(event.target);
	};
	<span style="color: rgb(245, 171, 53);">document</span>.body.appendChild(downloadLink);
	downloadLink.click();
}</code></pre>
    </article>

    <script src="../../js/docs.js"></script>
    <script src="js/index.js"></script>
</body>
</html>
