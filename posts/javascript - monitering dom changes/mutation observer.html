<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <title>Mutation Observer</title>
  </head>
  <body>
    <h2>Mutation Observer API</h2>
    <p>MutationObserver cung cấp cho các nhà phát triển một cách để tương tác
      với các thay đổi trong một DOM. Nó được thiết kế như là một sự thay thế
      cho Mutation Event.</p>
    <h3>Hàm tạo</h3>
    <p>Tạo một đối tượng MutationObserver như sau:</p>
    <pre>new MutationObserver(<br>&nbsp;&nbsp;&nbsp; function callback<br>);</pre><p>Tham số là một hàm callback. Đối tượng MutationObserver sẽ gọi hàm callback này với hai tham số. Tham số thứ nhất là một mảng các đối tượng MutationRecord. Tham số thứ hai chính là đối tượng MutationObserver.</p><h3>Các phương thức</h3><h4>void observe( Node target, MutationObserverInit options )</h4><p>Đăng ký đối tượng MutationObserver nhận các thông báo thay đổi DOM trên node cụ thể nào đó.</p><p>Tham số target là Node được theo dõi. options chỉ ra các sự thay đổi nào thì nên được báo cáo.</p><h4>void disconnect()</h4><p>Dừng đối tượng MutionObserver lắng nghe các thông báo thay đổi.</p><h4>Array takeRecords()</h4><p>Làm rỗng hàng đợi các bản ghi của đối tượng MutationObserver và trả về các bản ghi hàng đợi.</p><h3>MutationObserverInit</h3><p>MutationObserverInit là một đối tượng mà có thể chỉ định các thuộc tính sau:</p><table
border="1" width="100%"><tbody><tr><td>Thuộc tính</td><td>Mô tả</td></tr><tr><td>childList</td><td>Thiết lập true nếu sự thêm hoặc loại bỏ của các phần tử con (bao gồm các phần tử text) sẽ được theo dõi</td></tr><tr><td>attributes</td><td>Thiết lập true nếu sự thay đổi của các thuộc tính của đối tượng sẽ được theo dõi</td></tr><tr><td>characterData</td><td>Thiết lập true nếu sự thay đổi dữ liệu của đối tượng sẽ được theo dõi</td></tr><tr><td>subtree</td><td>Thiết lập true nếu sự thay đổi đến đối tượng và các phần tử con sẽ được theo dõi.</td></tr><tr><td>attributeOldValue</td><td>Thiết lập true nếu thuộc tính attributes được thiết lập true và giá trị cũ của thuộc tính cần được ghi lại</td></tr><tr><td>characterDataOldValue</td><td>Thiết lập true nếu thuộc tính characterData được thiết lập true và dữ liệu cũ của đối tượng cần được ghi lại</td></tr><tr><td>attributeFilter</td><td>Thiết lập một mảng của các thuộc tính local (không có namespace) nếu không phải theo dõi tất cả các thuộc tính</td></tr></tbody></table><p>CHÚ Ý: Ít nhất childList, attributes hoặc characterData phải được thiết lập bằng true. Nếu không sẽ có lỗi "An invalid or illegal string was specified".</p><h3>MutationRecord</h3><p>Một MutationRecord đại diện cho một thay đổi DOM. Nó là đối tượng được truyền vào hàm callback của MutationObserver.</p><p>Các thuộc tính.</p><table
border="1" width="100%"><tbody><tr><td>Thuộc tính</td><td>Kiểu</td><td>Mô tả</td></tr><tr><td>type</td><td>String</td><td>Trả về các giá trị:<br>"attributes" nếu là sự thay đổi thuộc tính<br>"characterData" nếu là sự thay đổi của nốt CharacterData<br>"childList" nếu là sự thay đổi của một cây các nốt</td></tr><tr><td>target</td><td>Node</td><td>Trả về nốt mà sự thay đổi ảnh hưởng, phụ thuộc vào type.<br>Với type là "attributes", target là phần tử mà thuộc tính bị thay đổi<br>Với type là "characterData", target là nốt CharacterData<br>Với type là "childList", target là nốt mà các phần tử con bị thay đổi</td></tr><tr><td>addedNodes</td><td>NodeList</td><td>Trả về các nốt được thêm vào</td></tr><tr><td>removedNodes</td><td>NodeList</td><td>Trả về các nốt bị xóa đi</td></tr><tr><td>previousSibling</td><td>Node</td><td>Trả về nốt liền trước cũ của nốt vừa thêm hoặc vừa bị xóa đi</td></tr><tr><td>nextSibling</td><td>Node</td><td>Trả về nốt liền sau cũ của nốt vừa thêm hoặc vừa bị xóa đi</td></tr><tr><td>attributeName</td><td>String</td><td>Tên của thuộc tính</td></tr><tr><td>attributeNamespace</td><td>String</td><td>Namespace của thuộc tính</td></tr><tr><td>oldValue</td><td>String</td><td>Tùy thuộc vào type<br>Nếu type là "attributes", oldValue là giá trị của thuộc tính trước khi thay đổi<br>Nếu type là "characterData", oldValue là dữ liệu trước khi thay đổi<br>Nếu type là "childList", oldValue là null</td></tr></tbody></table><h3>Ví dụ</h3><p>SOURCE</p><h3>Tham khảo</h3><p>https://developer.mozilla.org/en-US/docs/Web/API/CharacterData</p><p><br></p><p><br></p><p><br></p><p><br></p></body></html>